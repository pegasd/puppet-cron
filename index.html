<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.16
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-Configure+and+manage+cron+jobs+with+focus+on+tidiness">Configure and manage cron jobs with focus on tidiness</h1>

<p><a href="https://travis-ci.org/pegasd/puppet-cron"><img
src="https://travis-ci.org/pegasd/puppet-cron.svg?branch=master"></a> <a
href="https://forge.puppetlabs.com/pegas/cron"><img
src="https://img.shields.io/puppetforge/v/pegas/cron.svg"></a> <a
href="https://forge.puppetlabs.com/pegas/cron"><img
src="https://img.shields.io/puppetforge/dt/pegas/cron.svg"></a> <a
href="https://forge.puppetlabs.com/pegas/cron"><img
src="https://img.shields.io/puppetforge/f/pegas/cron.svg"></a></p>

<h2 id="label-Table+of+Contents">Table of Contents</h2>
<ol><li>
<p><a href="#label-Description">Description</a></p>
</li><li>
<p><a href="#label-Setup">Setup - The basics of getting started with cron</a></p>
</li><li>
<p><a href="#label-Usage">Usage - Configuration options and additional
functionality</a></p>
</li><li>
<p><a href="#label-Reference">Reference - An under-the-hood peek at what the module
is doing and how</a></p>
</li><li>
<p><a href="#label-Limitations">Limitations - OS compatibility, etc.</a></p>
</li><li>
<p><a href="#label-Development">Development - Guide for contributing to the
module</a></p>
</li></ol>

<h2 id="label-Description">Description</h2>

<p>This module is an interface for cron jobs with the main idea to be tidy.
That means that any jobs that are not managed should not exist. Once you
switch all cron jobs to this module, simply removing the definition is
sufficient without worrying about setting <code>ensure =&gt; disable</code>
and waiting for changes to propagate.</p>

<h2 id="label-Setup">Setup</h2>

<h3 id="label-Beginning+with+cron">Beginning with cron</h3>

<p>To start out with cron: <code>puppet include cron </code> This will start
purging all unmanaged cron resources and also make sure the &#39;cron&#39;
package is installed and the service is running.</p>

<p><strong>WARNING #1</strong>: All existing unmanaged cron jobs will be
purged!</p>

<h2 id="label-Usage">Usage</h2>

<h3 id="label-Also+manage+-2Fetc-2Fcron.d+directory">Also manage /etc/cron.d directory</h3>

<pre class="code ruby"><code class="ruby">class { &#39;cron&#39;:
  purge_crond =&gt; true,
}</code></pre>

<h3 id="label-Wipe+it+all+out">Wipe it all out</h3>

<pre class="code ruby"><code class="ruby">class { &#39;cron&#39;:
  ensure =&gt; absent,
}</code></pre>

<h3 id="label-cron-3A-3Ajob+example">cron::job example</h3>

<pre class="code ruby"><code class="ruby">cron::job { &#39;backup&#39;:
  user     =&gt; &#39;backup&#39;, # default: &#39;root&#39;
  minute   =&gt; &#39;3-59/5&#39;,
  hour     =&gt; &#39;9-17&#39;,
  monthday =&gt; &#39;*/2&#39;,
  month    =&gt; [ 4, 8, 12 ],
  weekday  =&gt; &#39;0-4&#39;,
}</code></pre>

<blockquote>
<p>Custom <code>Cron::*</code> time types are a lot stricter than builtin
<code>cron</code> ones. Careful - this may break existing cron jobs  you
are converting.</p>
</blockquote>

<h3 id="label-cron-3A-3Awhitelist+example">cron::whitelist example</h3>

<pre class="code ruby"><code class="ruby">cron::whitelist { &#39;pkg_backup&#39;: }</code></pre>

<p>This will make <code>/etc/cron.d/pkg_backup</code> immune, and keep the
file&#39;s contents untouched.</p>

<h2 id="label-Reference">Reference</h2>

<h3 id="label-Type+Aliases">Type Aliases</h3>
<ul><li>
<p><code>Cron::Command</code> - Used for <code>cron::job::command</code>
parameter. Does not allow newline characters (which breaks crontab).</p>
</li><li>
<p><code>Cron::Minute</code> - Stricter <code>cron::job::minute</code>.</p>
</li><li>
<p><code>Cron::Hour</code> - Stricter <code>cron::job::hour</code>.</p>
</li><li>
<p><code>Cron::Monthday</code> - Stricter <code>cron::job::monthday</code>.</p>
</li><li>
<p><code>Cron::Month</code> - Stricter <code>cron::job::month</code>.</p>
</li><li>
<p><code>Cron::Weekday</code> - Stricter <code>cron::job::weekday</code>.</p>
</li></ul>

<h3 id="label-Full+reference">Full reference</h3>

<p>Check out <a href="REFERENCE.md">REFERENCE</a> for up-to-date details.</p>

<h2 id="label-Limitations">Limitations</h2>
<ul><li>
<p>Made for and tested only on the following Ubuntu distributions:</p>
<ul><li>
<p>14.04</p>
</li><li>
<p>16.04</p>
</li><li>
<p>18.04</p>
</li></ul>
</li><li>
<p><code>Cron::*</code> custom types are strict!</p>
</li><li>
<p>All cron jobs managed by built-in <code>cron</code> type are fair play.
They won&#39;t be purged as long  as they&#39;re in the catalog. But using
this module&#39;s <code>cron::job</code> type does have its advantages.</p>
</li></ul>

<h2 id="label-Development">Development</h2>

<p>I&#39;ll be happy to know you&#39;re using this for one reason or the
other. And if you want to contribute - even better. Feel free to <a
href="https://github.com/pegasd/puppet-cron/issues">submit an issue</a> /
<a href="https://github.com/pegasd/puppet-cron/pulls">fire up a PR</a> /
whatever.</p>
</div></div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>