<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.8
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-cron">cron</h1>

<p><a href="https://travis-ci.org/pegasd/puppet-cron"><img
src="https://travis-ci.org/pegasd/puppet-cron.svg?branch=master"></a></p>

<h4 id="label-Table+of+Contents">Table of Contents</h4>
<ol><li>
<p><a href="#description">Description</a></p>
</li><li>
<p><a href="#setup">Setup - The basics of getting started with cron</a></p>
</li><li>
<p><a href="#usage">Usage - Configuration options and additional
functionality</a></p>
</li><li>
<p><a href="#reference">Reference - An under-the-hood peek at what the module
is doing and how</a></p>
</li><li>
<p><a href="#limitations">Limitations - OS compatibility, etc.</a></p>
</li><li>
<p><a href="#development">Development - Guide for contributing to the
module</a></p>
</li></ol>

<h2 id="label-Description">Description</h2>

<p>This module is an interface for cron jobs with the main idea to be tidy.
That means that any jobs that are not managed should not exist. Once you
switch all cron jobs to this module, simply removing the definition is
sufficient without worrying about setting <code>ensure =&gt; disable</code>
and waiting for changes to propagate.</p>

<h2 id="label-Setup">Setup</h2>

<h3 id="label-Beginning+with+cron">Beginning with cron</h3>

<p>To start out with cron: <code>puppet include cron </code> This will start
purging all unmanaged cron resources and also make sure the &#39;cron&#39;
package is installed and the service is running.</p>

<p><strong>WARNING #1</strong>: All existing unmanaged cron jobs will be
purged!</p>

<h2 id="label-Usage">Usage</h2>

<h3 id="label-Also+manage+-2Fetc-2Fcron.d+directory">Also manage /etc/cron.d directory</h3>

<pre class="code ruby"><code class="ruby">class { &#39;::cron&#39;:
  purge_crond =&gt; true,
}</code></pre>

<h3 id="label-Wipe+it+all+out">Wipe it all out</h3>

<pre class="code ruby"><code class="ruby">class { &#39;::cron&#39;: ensure =&gt; absent }</code></pre>

<h3 id="label-cron-3A-3Ajob+example">cron::job example</h3>

<pre class="code ruby"><code class="ruby">cron::job { &#39;backup&#39;:
  user     =&gt; &#39;backup&#39;, # default: &#39;root&#39;
  minute   =&gt; &#39;3-59/5&#39;,
  hour     =&gt; &#39;9-17&#39;,
  monthday =&gt; &#39;*/2&#39;,
  month    =&gt; [ 4, 8, 12 ],
  weekday  =&gt; &#39;0-4&#39;,
}</code></pre>

<p>NB: My custom types are a lot stricter than default cron types. Careful -
this may break existing cron jobs you are converting.</p>

<h3 id="label-cron-3A-3Awhitelist+example">cron::whitelist example</h3>

<pre class="code ruby"><code class="ruby">cron::whitelist { &#39;pkg_backup&#39;: }</code></pre>

<p>This will make <code>/etc/cron.d/pkg_backup</code> immune, and keep the
file&#39;s contents untouched.</p>

<h2 id="label-Reference">Reference</h2>

<h3 id="label-Classes">Classes</h3>

<h4 id="label-Public+classes">Public classes</h4>
<ul><li>
<p><a href="#cron">cron</a>: Main entry point, must include to start managing
cron jobs.</p>
</li></ul>

<h4 id="label-Private+classes">Private classes</h4>
<ul><li>
<p><code>cron::install</code></p>
</li><li>
<p><code>cron::config</code></p>
</li><li>
<p><code>cron::service</code></p>
</li><li>
<p><code>cron::remove</code></p>
</li></ul>

<h3 id="label-Defined+Resource+Types">Defined Resource Types</h3>
<ul><li>
<p><a href="#cronjob">cron::job</a></p>
</li><li>
<p><a href="#cronwhitelist">cron::whitelist</a></p>
</li></ul>

<h3 id="label-Custom+Types">Custom Types</h3>
<ul><li>
<p><code>Cron::Minute</code></p>
</li><li>
<p><code>Cron::Hour</code></p>
</li><li>
<p><code>Cron::Monthday</code></p>
</li><li>
<p><code>Cron::Month</code></p>
</li><li>
<p><code>Cron::Weekday</code></p>
</li></ul>

<h3 id="label-Parameters">Parameters</h3>

<h4 id="label-cron">cron</h4>

<h5 id="label-ensure"><code>ensure</code></h5>

<p>Whether cron should exist on host or not</p>

<h5 id="label-purge_crond"><code>purge_crond</code></h5>

<p>Also purge files in /etc/cron.d directory (whitelist required jobs using <a
href="#cronwhitelist">cron::whitelist</a>)</p>

<h4 id="label-cron-3A-3Ajob">cron::job</h4>

<h5 id="label-command"><code>command</code></h5>

<p>Command path to be executed</p>

<h5 id="label-user"><code>user</code></h5>

<p>The user who owns the cron job</p>

<h5 id="label-minute"><code>minute</code></h5>

<p>Cron minute</p>

<h5 id="label-hour"><code>hour</code></h5>

<p>Cron hour</p>

<h5 id="label-monthday"><code>monthday</code></h5>

<p>Cron monthday</p>

<h5 id="label-month"><code>month</code></h5>

<p>Cron month</p>

<h5 id="label-weekday"><code>weekday</code></h5>

<p>Cron weekday</p>

<h4 id="label-cron-3A-3Awhitelist">cron::whitelist</h4>

<p><code>cron::whitelist</code> does not have any arguments. Just use a unique
name and we&#39;ll find it in <code>/etc/cron.d</code></p>

<h2 id="label-Limitations">Limitations</h2>
<ul><li>
<p>Made for and tested only on Ubuntu</p>
</li><li>
<p><code>Cron::*</code> custom types are strict!</p>
</li><li>
<p>all cron jobs that are managed manually through Puppet are fair play.
Don&#39;t expect them to go away once you start using this module.
Hopefully, you can easily convert them to <code>cron::job</code> though.</p>
</li><li>
<p>the warnings from <a href="#beginningwithcron">Beginning with cron</a>
apply</p>
</li></ul>

<h2 id="label-Development">Development</h2>

<p>I&#39;ll be happy to know you&#39;re using this for one reason or another.
And if you want to contribute - even better! Feel free to submit a pull
request.</p>
</div></div>

      <div id="footer">
  Generated on Tue Feb 28 12:45:58 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.8 (ruby-2.4.0).
</div>

    </div>
  </body>
</html>